(this["webpackJsonpgenshin-gacha-analyzer"]=this["webpackJsonpgenshin-gacha-analyzer"]||[]).push([[1],{146:function(n,t,e){},242:function(n,t,e){},243:function(n,t,e){"use strict";e.r(t);var a=e(30),c=e(0),r=e.n(c),i=e(24),o=e.n(i),u=(e(146),e(32)),l=e(6),d=r.a.createContext({workbook:null,updateWorkbook:function(){}}),f=e(15),b=e(17),s=e(247),h=e(248),j=e(93),O=e(245),p=e(136),v=e.n(p);function g(){var n=Object(f.a)(["\n          margin: 20px 0;\n          width: 600px;\n        "]);return g=function(){return n},n}function m(){var n=Object(f.a)(["\n          min-width: 600px;\n          padding: 40px;\n        "]);return m=function(){return n},n}function x(){var n=Object(f.a)(["\n          width: 100%;\n          display: flex;\n          justify-content: center;\n          border: none;\n          margin: 20px 0;\n        "]);return x=function(){return n},n}function w(){var n=Object(f.a)(["\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      "]);return w=function(){return n},n}var y=s.a.Dragger,k=function(n){n.onLoad;var t=Object(c.useState)(!1),a=Object(u.a)(t,2),r=a[0],i=a[1],o=Object(c.useState)(null),f=Object(u.a)(o,2),s=f[0],p=f[1],k=Object(c.useState)("\u52a0\u8f7d\u4e2d..."),S=Object(u.a)(k,2),C=S[0],D=S[1],z=Object(c.useContext)(d).updateWorkbook,I=Object(c.useCallback)((function(n){if(!n.name.endsWith(".xlsx"))return p("\u6587\u4ef6\u7c7b\u578b\u9519\u8bef\uff0c\u8bf7\u4e0a\u4f20xlsx\u6587\u4ef6"),!1;i(!0);var t=new FileReader;return t.onload=function(n){D("xlsx\u89e3\u6790\u6587\u4ef6\u52a0\u8f7d\u4e2d..."),Promise.all([e.e(5),e.e(10)]).then(e.t.bind(null,370,7)).then((function(t){window.XLSX=t;var e=t,a=new Uint8Array(n.target.result),c=e.read(a,{type:"array"});z(c)})).catch((function(){p("XLSX\u89e3\u6790\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u4e0a\u4f20")}))},t.onerror=function(n){p("\u89e3\u6790\u6587\u4ef6\u5931\u8d25, \u8bf7\u91cd\u65b0\u4e0a\u4f20"),i(!1)},t.readAsArrayBuffer(n),!1}),[]);return Object(l.b)("div",{css:Object(b.a)(w()),children:[Object(l.a)("div",{className:"ant-alert-info",css:Object(b.a)(x()),children:Object(l.a)("a",{href:"https://ngabbs.com/read.php?tid=25004616",target:"_blank",children:Object(l.a)(h.a,{message:Object(l.b)("div",{children:["\u4e0d\u77e5\u9053\u5982\u4f55\u83b7\u53d6xlsx\u6587\u4ef6\uff1f",Object(l.a)(j.a,{type:"link",children:"\u8bf7\u70b9\u51fb\u8fd9\u91cc"})]}),type:"info",showIcon:!0,banner:!0})})}),Object(l.b)(y,{name:"file",accept:".xlsx",multiple:!1,beforeUpload:I,showUploadList:!1,css:Object(b.a)(m()),children:[s&&Object(l.a)(h.a,{message:s,type:"error"}),Object(l.a)("p",{className:"ant-upload-drag-icon",children:r?Object(l.a)(O.a,{tip:C}):Object(l.a)(v.a,{})}),Object(l.a)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u9009\u62e9\u6587\u4ef6\u6216\u5c06\u6587\u4ef6\u62d6\u62fd\u5230\u6b64\u533a\u57df"}),Object(l.a)("p",{className:"ant-upload-text",children:"( \u6ce8\uff1a\u6587\u4ef6\u7684\u540e\u7f00\u5e94\u4e3a.xlsx )"})]}),Object(l.a)(h.a,{css:Object(b.a)(g()),message:Object(l.b)("div",{children:["\u6b64\u7f51\u7ad9\u662f\u9759\u6001\u7f51\u7ad9\uff0c\u4f60\u7684\u6587\u4ef6\u4e0d\u4f1a\u88ab\u4e0a\u4f20\u5230\u7f51\u7ad9\u540e\u53f0\uff0c\u5177\u4f53\u4ee3\u7801\u8bf7\u67e5\u770b",Object(l.a)(j.a,{type:"link",href:"https://github.com/voderl/genshin-gacha-analyzer",target:"_blank",children:"github\u94fe\u63a5"})]}),type:"warning",showIcon:!0})]})},S=e(246),C=e(249),D=e(57),z=e(96),I=e.p+"static/media/achievement_achieved.49d0cc2e.png",T=e.p+"static/media/achievement_show.b270d366.png";function L(){var n=Object(f.a)(["\n              line-height: 120px;\n              height: 120px;\n              font-size: 18px;\n            "]);return L=function(){return n},n}function N(){var n=Object(f.a)(["\n            width: 160px;\n            height: 120px;\n            background-color: #ebe2d8;\n            text-align: center;\n          "]);return N=function(){return n},n}function F(){var n=Object(f.a)(["\n              padding: 12px 0 6px;\n              font-size: 18px;\n            "]);return F=function(){return n},n}function P(){var n=Object(f.a)(["\n              font-size: 18px;\n            "]);return P=function(){return n},n}function X(){var n=Object(f.a)(["\n            width: 147px;\n            margin-left: 13px;\n            height: 119px;\n            flex: none;\n            background-image: url(",");\n            display: flex;\n            flex-direction: column;\n            justify-content: flex-end;\n            align-items: center;\n          "]);return X=function(){return n},n}function _(){var n=Object(f.a)(["\n            color: #585757;\n            font-weight: bold;\n            font-size: 20px;\n          "]);return _=function(){return n},n}function A(){var n=Object(f.a)(["\n          flex: 1 1;\n          padding: 12px 0;\n          p {\n            margin-bottom: 4px;\n          }\n        "]);return A=function(){return n},n}function M(){var n=Object(f.a)(["\n          margin: 0 16px;\n          flex: 0 1;\n        "]);return M=function(){return n},n}function E(){var n=Object(f.a)(["\n        width: 100%;\n        max-width: 800px;\n        min-height: 119px;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        border: 2px solid #e0d6cb;\n        color: #bca895;\n        color: #a0907c;\n        font-size: 16px;\n        font-weight: 600;\n        margin: 4px auto;\n      "]);return E=function(){return n},n}var G=function(n){var t=n.title,e=n.info,a=n.value,c=n.achievedTime,r=!!c;return Object(l.b)("div",{style:{backgroundColor:"#ebe2d8"},css:Object(b.a)(E()),children:[Object(l.a)("img",{src:I,css:Object(b.a)(M())}),Object(l.b)("div",{css:Object(b.a)(A()),children:[Object(l.a)("p",{css:Object(b.a)(_()),children:t}),Object(l.a)("p",{children:e})]}),r?Object(l.b)("div",{css:Object(b.a)(X(),T),children:[Object(l.a)("span",{css:Object(b.a)(P()),children:void 0===a?"\u8fbe\u6210":a}),Object(l.a)("span",{css:Object(b.a)(F()),children:c.slice(0,10).replaceAll("-","/")})]}):Object(l.a)("div",{css:Object(b.a)(N()),children:Object(l.a)("span",{css:Object(b.a)(L()),children:a})})]})},W=e(47),B=e.n(W),U=e(79),J=e.n(U),K=e(137),R=e.n(K);var q=function(n,t){return"\u300c".concat(n,"\u300d")+(1===t?"":"\xd7".concat(t))};var H=function(n){return n.slice(0,10).replaceAll("-","/")},Q=[function(n){var t=n.all,e=B()(Object.keys(t[5]),(function(n){var e=t[5][n].data;return B()(e,(function(n){return n.\u4fdd\u5e95\u5185})).\u4fdd\u5e95\u5185}));if(!e)return!1;var a=B()(t[5][e].data,(function(n){return n.\u4fdd\u5e95\u5185}));return!!a&&{title:"\u300c\u539f\u6765\u975e\u914b\u7adf\u662f\u6211\u81ea\u5df1\u300d",info:"\u62bd\u4e86 ".concat(a.\u4fdd\u5e95\u5185," \u6b21\u624d\u6700\u7ec8\u62bd\u5230\u4e86\u300c").concat(a.\u540d\u79f0,"\u300d"),achievedTime:a.\u65f6\u95f4,value:a.\u4fdd\u5e95\u5185}},function(n){var t=n.all,e=J()(Object.keys(t[5]),(function(n){var e=t[5][n].data;return J()(e,(function(n){return n.\u4fdd\u5e95\u5185})).\u4fdd\u5e95\u5185}));if(!e)return!1;var a=J()(t[5][e].data,(function(n){return n.\u4fdd\u5e95\u5185}));return!!a&&{title:"\u300c\u6b27\u7687\u5728\u4e16\u300d",info:"\u53ea\u62bd\u4e86 ".concat(a.\u4fdd\u5e95\u5185," \u6b21\u5c31\u62bd\u5230\u4e86\u300c").concat(a.\u540d\u79f0,"\u300d"),achievedTime:a.\u65f6\u95f4,value:a.\u4fdd\u5e95\u5185}},function(n){var t=n.day,e=n.data,a=B()(Object.values(t),(function(n){return n.data.length}));if(!a)return!1;var c,r=a.data.length/e.length,i=a.data.filter((function(n){return 5===n.\u661f\u7ea7})),o=0===i.length?"":"\u5728\u62bd\u5230".concat(function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q,e={};return n.forEach((function(n){n.\u540d\u79f0 in e?e[n.\u540d\u79f0]+=1:e[n.\u540d\u79f0]=1})),Object.keys(e).map((function(n){return t(n,e[n])}))}(i).join("\u3001"),"\u65f6\uff0c\u4f60\u6709\u6ca1\u6709\u5f88\u5f00\u5fc3\u5462\uff1f");return{title:"\u300c\u8c6a\u63b7\u5343\u91d1\u300d",info:"\u5728".concat(H(a.data[0].\u65f6\u95f4),"\u8fd9\u4e00\u5929\uff0c\u4f60\u5171\u62bd\u53d6\u4e86 ").concat(a.data.length," \u6b21\uff0c\u5360\u603b\u62bd\u53d6\u6b21\u6570\u7684").concat((c=r,Number(100*c).toFixed(2)+"%"),"\u3002").concat(o),achievedTime:a.data[0].\u65f6\u95f4,value:a.data.length}},function(n){var t=n.data,e=t.slice(1).map((function(n,e){return n.date-t[e].date}));if(0!==e.length){var a=R()(e);if(a){var c,r=e.indexOf(a),i=t[r].\u65f6\u95f4,o=t[r+1].\u65f6\u95f4;return{title:"\u300c\u4ed3\u9f20\u4e13\u5bb6\u300d",info:"\u4ece".concat(H(i),"\u5230").concat(H(o),", \u4f60\u6ca1\u6709\u8fdb\u884c\u62bd\u5361\u3002"),value:(c=a,Math.floor(c/1e3/60/60/24)+" \u5929"+Math.floor(c/1e3/60/60%24)+" \u65f6"),achievedTime:o}}}},function(n){var t=n.gacha,e=Object.values(t[10]).reduce((function(n,t){return n+t.data.filter((function(n){return 5===n.\u661f\u7ea7})).length}),0),a=t[1].filter((function(n){return 5===n.\u661f\u7ea7})).length;return{title:"\u300c\u5355\u62bd\u51fa\u5947\u8ff9\uff1f\u300d",info:"\u901a\u8fc7\u5355\u62bd\u83b7\u53d6\u7684\u4e94\u661f\u6570\u76ee\u4e3a".concat(a,", \u901a\u8fc7\u5341\u8fde\u83b7\u53d6\u7684\u4e94\u661f\u6570\u76ee\u4e3a").concat(e,"\u3002"),value:"".concat(a,"/").concat(a+e)}},function(n){var t=n.gacha,e=B()(t[10],(function(n){return n.data.filter((function(n){return 5===n.\u661f\u7ea7})).length}));if(e){var a=e.data.filter((function(n){return 5===n.\u661f\u7ea7})).length;return{title:"\u300c\u53cc\u9ec4\u86cb\uff1f\u300d",info:"\u4e00\u6b21\u5341\u8fde\u4e2d\uff0c\u4f60\u6700\u591a\u62bd\u53d6\u5230\u7684\u4e94\u661f\u6570\u91cf\u4e3a ".concat(a," \u53ea"),value:a,achievedTime:e.data[0].\u65f6\u95f4}}},function(n){var t=n.character,e=Object.values(t[5]).sort((function(n,t){return t.data.length-n.data.length})),a=e[0].data.length,c=e.findIndex((function(n){return n.data.length!==a})),r=e.slice(0,c).map((function(n){return q(n.data[0].\u540d\u79f0,n.data.length)}));return{title:"\u300c\u60c5\u6709\u72ec\u949f(\u4e94\u661f\u89d2\u8272)\u300d",info:"\u4f60\u5171\u62bd\u53d6\u4e86 ".concat(r.join("\u3001"),"\uff0c\u8fd9\u662f\u4e0a\u5929\u5bf9\u4f60\u7684\u7737\u987e\u8fd8\u662f\u4f60\u5bf9").concat(1===r.length?"ta":"ta\u4eec","\u7684\u60c5\u6709\u72ec\u949f\u5462\uff1f")}},function(n){var t=n.character,e=Object.values(t[4]).sort((function(n,t){return t.data.length-n.data.length})),a=e[0].data.length,c=e.findIndex((function(n){return n.data.length!==a})),r=e.slice(0,c).map((function(n){return q(n.data[0].\u540d\u79f0,n.data.length)}));return{title:"\u300c\u60c5\u6709\u72ec\u949f(\u56db\u661f\u89d2\u8272)\u300d",info:"\u4f60\u5171\u62bd\u53d6\u4e86 ".concat(r.join("\u3001"),"\uff0c\u8fd9\u662f\u4e0a\u5929\u5bf9\u4f60\u7684\u7737\u987e\u8fd8\u662f\u4f60\u5bf9").concat(1===r.length?"ta":"ta\u4eec","\u7684\u60c5\u6709\u72ec\u949f\u5462\uff1f")}}];function V(){var n=Object(f.a)(["\n        background: #f0eae2;\n        width: 100%;\n        height: 100%;\n        overflow-y: auto;\n        overflow-x: hidden;\n        position: absolute;\n      "]);return V=function(){return n},n}var Y=function(n){var t=(0,n.onGetData)(D.c),e=Object(c.useMemo)((function(){for(var n={5:{},4:{}},e={5:{},4:{},3:{}},a={5:{},4:{},3:{}},c={},r={10:[],1:[]},i=function(t){var r="\u89d2\u8272"===t.\u7c7b\u522b?n:a;e[t.\u661f\u7ea7][t.\u540d\u79f0]={data:[t]};var i=t.\u65f6\u95f4.slice(0,10);i in c?c[i].data.push(t):c[i]={data:[t]},t.\u540d\u79f0 in r[t.\u661f\u7ea7]?r[t.\u661f\u7ea7][t.\u540d\u79f0].data.push(t):r[t.\u661f\u7ea7][t.\u540d\u79f0]={data:[t]}},o=0,u=t.length;o<u;){var l=t[o];if(o<u-1&&t[o+1].date===l.date){var d=t.slice(o,o+10);d.forEach(i),r[10].push({data:d}),o+=10}else i(l),r[1].push(l),o++}return Q.map((function(i){return i({all:e,character:n,weapon:a,data:t,gacha:r,day:c})})).filter((function(n){return"object"===typeof n}))}),[]);return Object(l.a)("div",{css:Object(b.a)(V()),children:e.map((function(n){return Object(l.a)(G,Object(z.a)({},n))}))})};function Z(){var n=Object(f.a)(["\n                  display: block;\n                  margin: 150px auto;\n                "]);return Z=function(){return n},n}function $(){var n=Object(f.a)(["\n            margin: 0;\n            position: relative;\n          "]);return $=function(){return n},n}function nn(){var n=Object(f.a)(["\n            margin-top: 60px;\n            .ant-menu-item {\n              height: 60px;\n              line-height: 60px;\n            }\n          "]);return nn=function(){return n},n}function tn(){var n=Object(f.a)(["\n        overflow: hidden;\n      "]);return tn=function(){return n},n}var en=Object(c.lazy)((function(){return Promise.all([e.e(0),e.e(4),e.e(7)]).then(e.bind(null,381)).then((function(n){return{default:n.Timeline}}))})),an=Object(c.lazy)((function(){return Promise.all([e.e(0),e.e(8),e.e(6)]).then(e.bind(null,372)).then((function(n){return{default:n.ShowData}}))})),cn=S.a.Content,rn=S.a.Sider,on=function(){var n=Object(c.useContext)(d).workbook,t=n.SheetNames,e=Object(c.useMemo)((function(){var e=Object.create(null);return function a(c){var r,i=window.XLSX;if(c in e)return e[c];if(c===D.c)(r=t.reduce((function(n,t){return n.concat(a(t))}),[])).sort((function(n,t){return n.date===t.date?n.\u603b\u6b21\u6570-t.\u603b\u6b21\u6570:n.date-t.date}));else{var o=n.Sheets[c];(r=i.utils.sheet_to_json(o)).forEach((function(n){n.pool=c,n.date=+new Date(n.\u65f6\u95f4)}))}return e.key=r}}),[n]),a=Object(c.useState)("rawData"),r=Object(u.a)(a,2),i=r[0],o=r[1],f=Object(c.useCallback)((function(n){var t=n.key;o(t)}),[]),s=Object(c.useCallback)((function(n){return"rawData"===n?Object(l.a)(an,{onGetData:e,tabs:t}):"timeline"===n?Object(l.a)(en,{onGetData:e}):"achievements"===n?Object(l.a)(Y,{onGetData:e}):Object(l.a)("div",{children:"\u6682\u65e0"})}),[]);return Object(l.b)(S.a,{css:Object(b.a)(tn()),children:[Object(l.b)(rn,{theme:"light",width:"20%",style:{height:"100vh"},children:[Object(l.a)("div",{className:"logo"}),Object(l.b)(C.a,{mode:"inline",defaultSelectedKeys:["rawData"],onSelect:f,css:Object(b.a)(nn()),children:[Object(l.a)(C.a.Item,{children:"\u65f6\u95f4\u8f74"},"timeline"),Object(l.a)(C.a.Item,{children:"\u539f\u6570\u636e"},"rawData"),Object(l.a)(C.a.Item,{children:"\u6210\u5c31\u8868"},"achievements")]})]}),Object(l.a)(S.a,{children:Object(l.a)(cn,{css:Object(b.a)($()),children:Object(l.a)(c.Suspense,{fallback:Object(l.a)(O.a,{size:"large",tip:"\u52a0\u8f7d\u4e2d...",css:Object(b.a)(Z())}),children:s(i)})})})]})};e(242);function un(){return null===Object(c.useContext)(d).workbook?Object(l.a)(k,{}):Object(l.a)(on,{})}var ln=function(){var n=Object(c.useState)(null),t=Object(u.a)(n,2),e=t[0],a=t[1];return Object(l.a)(d.Provider,{value:{workbook:e,updateWorkbook:a},children:Object(l.a)(un,{})})},dn=function(n){n&&n instanceof Function&&e.e(9).then(e.bind(null,373)).then((function(t){var e=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;e(n),a(n),c(n),r(n),i(n)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(ln,{})}),document.getElementById("root")),dn()},57:function(n,t,e){"use strict";e.d(t,"c",(function(){return a})),e.d(t,"a",(function(){return c})),e.d(t,"b",(function(){return r}));var a="\u603b\u89c8",c=[{name:"\u65f6\u95f4",type:"string",width:180},{name:"\u7f16\u53f7",type:"number",hidden:!0,width:120},{name:"\u540d\u79f0",type:"string",width:130},{name:"\u7c7b\u522b",type:"string",width:50},{name:"\u661f\u7ea7",type:"number",width:50},{name:"\u603b\u6b21\u6570",type:"number",hidden:!0,width:100},{name:"\u4fdd\u5e95\u5185",type:"number",width:80}],r=c.concat({name:"pool",title:"\u6c60\u5b50\u540d\u79f0",type:"string",width:120})}},[[243,2,3]],[0,4,7]]);